# ü©∏ Projeto de Hemovigil√¢ncia ‚Äî An√°lise e Dashboard Interativo

Este projeto tem como objetivo analisar notifica√ß√µes de **Hemovigil√¢ncia em P√≥s-Mercado**, identificando **padr√µes, anomalias e tend√™ncias regionais** relacionadas √† seguran√ßa transfusional para o Trabalho de Conclus√£o de Curso em Bacharelado em Sistemas de Informa√ß√£o.

## 1. Introdu√ß√£o

Este projeto consiste em um Dashboard interativo desenvolvido em Python (Flask) para a an√°lise e visualiza√ß√£o de dados de Hemovigil√¢ncia, com foco em notifica√ß√µes por Estado no Brasil. O objetivo √© fornecer uma ferramenta anal√≠tica robusta, com filtros din√¢micos, para auxiliar na explora√ß√£o de tend√™ncias, distribui√ß√µes e correla√ß√µes nos dados.

## 2. Funcionalidades Principais

### 1. Menu Lateral de Navega√ß√£o
- **Vis√£o Geral**: M√©tricas principais e tend√™ncias temporais
- **Distribui√ß√µes**: An√°lises por regi√£o, tipo de evento e per√≠odo
- **Mapa Brasil**: Visualiza√ß√£o geogr√°fica interativa das notifica√ß√µes
- **Correla√ß√£o**: An√°lises comparativas entre vari√°veis
- **Dados**: Acesso direto √†s tabelas e filtros detalhados

### 2. Sistema de Filtros Din√¢micos
- Filtrar por Estados (UF)
- Filtrar por Tipo de Evento
- Filtrar por Anos
- Aplica√ß√£o autom√°tica de filtros em tempo real
- Restaura√ß√£o de filtros via URL

### 3. Funcionalidade Crawler
- Download autom√°tico de dados atualizados
- Integra√ß√£o com o portal dados.gov.br
- Atualiza√ß√£o cont√≠nua da base de dados
- Sincroniza√ß√£o de novos registros

### 4. Visualiza√ß√µes Interativas
- Gr√°ficos de tend√™ncia temporal
- Distribui√ß√£o por UF e tipo de evento
- Mapa interativo do Brasil com dados geogr√°ficos
- Matriz de correla√ß√£o entre vari√°veis
- Tabelas de dados filtr√°veis

### 5. Exporta√ß√£o de Dados
- Exporta√ß√£o em formato CSV
- Dados filtrados conforme sele√ß√£o do usu√°rio
- Download direto do navegador

## 3. Tecnologias Utilizadas

O projeto √© constru√≠do sobre uma pilha de tecnologias Python e Web, garantindo um ambiente de desenvolvimento eficiente e uma interface de usu√°rio rica.

| Categoria | Tecnologia | Uso no Projeto |
| :--- | :--- | :--- |
| **Backend/Web** | **Python** | Linguagem principal de desenvolvimento. |
| **Backend/Web** | **Flask** | Micro-framework para roteamento e constru√ß√£o do servidor web. |
| **An√°lise de Dados** | **Pandas** | Manipula√ß√£o, limpeza e processamento de dados do CSV. |
| **Visualiza√ß√£o** | **Plotly** | Gera√ß√£o de gr√°ficos interativos (Mapas, S√©ries Temporais, Distribui√ß√µes). |
| **Frontend/Design** | **HTML5/CSS3** | Estrutura e estiliza√ß√£o da interface. |
| **Frontend/Design** | **Bootstrap 5** | Framework CSS para responsividade e componentes de UI. |
| **Frontend/Interatividade** | **JavaScript/AJAX** | L√≥gica de filtros, intera√ß√µes e comunica√ß√£o ass√≠ncrona com o servidor. |

## 4. Como Executar o Projeto

Siga os passos abaixo para configurar e executar a aplica√ß√£o em seu ambiente local Vscode ou IntelliJ.

### 4.1. Pr√©-requisitos

Certifique-se de ter o **Python 3** e o **pip** (gerenciador de pacotes do Python) instalados em seu sistema.

### 4.2. Configura√ß√£o do Ambiente

1.  **Navegue at√© o diret√≥rio do projeto:**
    ```bash
    cd /caminho/para/o/projeto
    ```

2.  **Crie e ative um ambiente virtual (Recomendado):**
    ```bash
    # Cria o ambiente virtual
    python3 -m venv venv

    # Ativa o ambiente virtual (Linux/macOS)
    source venv/bin/activate

    # Ativa o ambiente virtual (Windows - PowerShell)
    # .\venv\Scripts\Activate.ps1
    ```

3.  **Instale as depend√™ncias:**
    O projeto utiliza as bibliotecas listadas no arquivo `requirements.txt`.
    ```bash
    pip install -r requirements.txt
    ```

### 4.3. Execu√ß√£o da Aplica√ß√£o

1.  **Inicie o servidor Flask:**
    ```bash
    python3 app_hemovigilancia.py
    ```

2.  **Acesse o Dashboard:**
    Ap√≥s a execu√ß√£o, o terminal exibir√° o endere√ßo local. Abra seu navegador e acesse:
    ```
    http://127.0.0.1:5000
    ```

## 5. Funcionalidade do Crowler

O arquivo `crawler_hemovigilancia.py` automatiza a atualiza√ß√£o de dados:

### Executar Manualmente
```bash
python3 crawler_hemovigilancia.py
```

### Agendar Execu√ß√£o (Linux/Mac)
Adicione √† crontab para executar diariamente √†s 2 da manh√£:
```bash
crontab -e
# Adicione a linha:
0 2 * * * cd /caminho/para/HEMOVIGILANCIA && python3 crawler_hemovigilancia.py
```

### Agendar Execu√ß√£o (Windows)
Use o Agendador de Tarefas do Windows para executar o script em intervalos regulares.

## 6. Estrutura do Projeto

A estrutura de arquivos segue o padr√£o de aplica√ß√µes Flask:

```
.
‚îú‚îÄ‚îÄ analise_hemovigilancia.py
‚îú‚îÄ‚îÄ analise_hemovigilancia_avancado.py
‚îú‚îÄ‚îÄ app_hemovigilancia.py       # Ponto de entrada da aplica√ß√£o (rotas e l√≥gica Flask)
‚îú‚îÄ‚îÄ config.py
‚îú‚îÄ‚îÄ crawler_hemovigilancia.py
‚îú‚îÄ‚îÄ dashboard_hemovigilancia.py
‚îú‚îÄ‚îÄ data/                       # Cont√©m os arquivos de dados (CSV, GeoJSON)
‚îú‚îÄ‚îÄ data_processor.py
‚îú‚îÄ‚îÄ LICENSE
‚îú‚îÄ‚îÄ logo_hemovigilancia.png
‚îú‚îÄ‚îÄ README.MD
‚îú‚îÄ‚îÄ README_APP.md               # Este arquivo
‚îú‚îÄ‚îÄ requirements.txt            # Lista de depend√™ncias Python
‚îú‚îÄ‚îÄ static/                     # Arquivos est√°ticos (CSS, JS, Imagens)
‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îú‚îÄ‚îÄ images/
‚îÇ   ‚îî‚îÄ‚îÄ js/
‚îî‚îÄ‚îÄ templates/                  # Arquivos HTML (Jinja2)
    ‚îú‚îÄ‚îÄ base.html               # Layout principal com barra lateral e filtros
    ‚îú‚îÄ‚îÄ correlacao.html
    ‚îú‚îÄ‚îÄ dados.html
    ‚îú‚îÄ‚îÄ ...
---
```

## 7. Fonte dos Dados

Os dados de Hemovigil√¢ncia s√£o provenientes do Portal de Dados Abertos do Governo Federal, sendo mantidos pela ANVISA.

*   **Conjunto de Dados:** [Hemovigil√¢ncia em P√≥s-Mercado](https://dados.gov.br/dados/conjuntos-dados/hemovigilancia-em-pos-mercado)
*   **URL Direta do CSV (Utilizada pelo Crawler):** `https://dados.anvisa.gov.br/dados/DADOS_ABERTOS_HEMOVIGILANCIA.csv`

---
Desenvolvido por **Wallace Santos** e Orientado pelo **Tassio Serqueira**
